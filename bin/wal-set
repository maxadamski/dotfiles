#!/usr/bin/env bash

if [ -f ~/.cache/wal/colors.sh ]; then
	source ~/.cache/wal/colors.sh
else
	exit 1
fi

reload_dunst() {
	killall dunst && bin/run-dunst
}

reload_xst() {
	echo "*background: $background" | xrdb -merge
	echo "*foreground: $foreground" | xrdb -merge
	echo "*cursorColor: $cursor" | xrdb -merge
	pkill -SIGUSR1 st
}

reload_bspwm() {
	bspc config normal_border_color   "$color0"
	bspc config focused_border_color  "$color15"
	bspc config presel_feedback_color "$color2"
}

reload_polybar() {
	echo ${color0/#/#EF} > ~/.cache/wal/polybar-bg
	touch ~/.config/polybar/config
}

reload_polybar
reload_bspwm
#reload_dunst
reload_xst

