#!/usr/bin/env fish

function help
printf "\
Usage:
	(sudo) sys <command>

Commands:
	d	shutdown
	r	restart
	s	sleep
	l	lock
	sd	sleep display
	ss	screensaver
	h	help
" | cat
end

function bad_command
	echo "Unknown command '$argv[1]'"
	help
	exit 1
end

set cmd $argv[1]
test -z $cmd; and bad_command $cmd

switch $cmd
	case d shutdown poweroff off
	        sudo poweroff
	case r restart reboot
	        sudo reboot
	case s sleep suspend zzz
	        sudo pm-suspend
	case l lock
	        echo Lock
		lock
	case sd sleepdisplay
	        echo Sleep display
		xset dpms force off
		lock
	case ss screensaver
	        echo Screensaver
		lock
	case h help
		help
	case '*'
		bad_command $cmd
end

